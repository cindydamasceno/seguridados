<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Formulário de Pesquisa</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static',filename='style.css') }}">
</head>
<body>
    <div class="cabecalho">
        <div class="github">
            <img src="{{ url_for('static', filename='img/github.png') }}">
        </div>
        <div class="cabecalho-logo">
            <img src="{{ url_for('static', filename='img/seguridados-logo.png') }}">
            <p class="topico-cabecalho"> Lorem ipsum.</p>
            <p class="texto-cabecalho"> Lorem ipsum dolor sit amet, consectetur adipiscing elit. Mauris vitae ligula quis turpis varius volutpat eget a dolor. Nullam et felis metus. Suspendisse non neque bibendum, laoreet sem vel, sollicitudin sapien.</p>
        </div>
    </div>
    <!-- ESCOLHER O FORMULÁRIO COM TOGGLE (BOTAO DE ALTERNÂNCIA) -->
    <div class="escolhe-formulario">
        <button id="btn-mun" onclick="mostraFormularioMUN()">Município</button>
        <button id="btn-reg" onclick="mostraFormularioREG()">Região</button>
        <button id="btn-ce" onclick="mostraFormularioCE()">Ceará</button>
    </div>

    <div class="formulario" id="formulario-municipio">
        <form action="/API/PESQUISA" method="post">
            <h2 class="nome-formulario"> Município</h2>
            <div class="formulario-municipio">
                <p class="label-formulario">Comece escolhendo o município</p>
                <select name="municipio" id="municipio" required>
                    {% for municipio in municipios %}
                    <option value="{{ municipio }}">{{ municipio }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-indicador">
                <p class="label-formulario">Em seguida, o indicador criminal</p>
                <select name="indicador" id="indicador" required>
                    {% for indicador in indicadores %}
                    <option value="{{ indicador }}"> {{ indicador }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-ano">
                <p class="label-formulario">Você pode escolher o ano</p>
                <select name="ano" id="ano">
                    {% for ano in anos %}
                    <option value="{{ ano }}">{{ ano }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-data">
                <p class="label-formulario">Ou, se preferir, um intervalo entre datas</p>
                <input type="date" id="data_inicio" name="data_inicio" value="2009-01-01" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}"><br>
                <input type="date" id="data_fim" name="data_fim" value="{{ data_max.strftime('%Y-%m-%d') }}" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}">
            </div>
            <div class="formulario-formato">
                <p class="label-formulario">Por fim, escolha o formato de arquivo <br>que deseja para receber a informação</p>
                <select id="formato" name="formato">
                    <option value="CSV">CSV</option>
                    <option value="JSON">JSON</option>
                    <option value="Planilha(.xlsx)">Planilha(.xlsx)</option>
                </select>
            </div>
            <button class="botao-enviar" type="submit"> ENVIAR </button>
        </form>
    </div>
    <div class="formulario" id="formulario-ceara" style="display: none;">
        <form action="/API/CEARA" method="post">
            <h2 class="nome-formulario">Ceará</h2>
            <div class="formulario-indicador">
                <p class="label-formulario">Comece escolhendo o indicador criminal</p>
                <select name="indicador_ceara" id="indicador_ceara" required>               
                    {% for indicador in indicadores %}
                    <option value="{{ indicador }}"> {{ indicador }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-ano">
                <p class="label-formulario">Agora, escolha o ano</p>
                <select name="ano" id="ano">
                    {% for ano in anos %}
                    <option value="{{ ano }}">{{ ano }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-data">
                <p class="label-formulario">Ou, se preferir, escolha um intervalo entre datas</p>
                <input type="date" id="data_inicio" name="data_inicio" value="2009-01-01" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}"><br>
                <input type="date" id="data_fim" name="data_fim" value="{{ data_max.strftime('%Y-%m-%d') }}" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}">
            </div>
            <div class="formulario-formato">
                <p class="label-formulario">Por fim, escolha o formato de arquivo <br>que deseja para receber a informação</p>
                <select id="formato_ceara" name="formato_ceara">
                    <option value="CSV">CSV</option>
                    <option value="JSON">JSON</option>
                    <option value="Planilha(.xlsx)">Planilha(.xlsx)</option>
                </select>
            </div>
            <button class="botao-enviar" type="submit"> ENVIAR </button>
        </form>
    </div>
    <div class="formulario" id="formulario-regiao" style="display: none;">
        <form action="/API/REGIAO" method="post">
            <h2 class="nome-formulario">Formulário de Pesquisa – Regiao</h2>
            <div class="formulario-regiao">
                <p class="label-formulario">Escolha a região administrativa</p>
                <select name="regiao_regiao" id="regiao_regiao" required>                    
                    {% for regiao in regioes %}
                    <option value="{{ regiao }}">{{ regiao }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-indicador">
                <p class="label-formulario">Em seguida, o indicador criminal</p>
                <select name="indicador_regiao" id="indicador_regiao" required>
                    {% for indicador in indicadores %}
                    <option value="{{ indicador }}"> {{ indicador }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-ano">
                <p class="label-formulario">Agora, escolha o ano</p>
                <select name="ano" id="ano">
                    {% for ano in anos %}
                    <option value="{{ ano }}">{{ ano }}</option>
                    {% endfor %}
                </select>
            </div>
            <div class="formulario-data">
                <p class="label-formulario">Ou, se preferir, um intervalo entre datas</p>
                <input type="date" id="data_inicio" name="data_inicio" value="2009-01-01" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}"><br>
                <input type="date" id="data_fim" name="data_fim" value="{{ data_max.strftime('%Y-%m-%d') }}" min="2009-01-01" max="{{ data_max.strftime('%Y-%m-%d') }}">
            </div>
            <div class="formulario-formato">
                <p class="label-formulario">Por fim, escolha o formato de arquivo <br>que deseja para receber a informação</p>
                <select id="formato_regiao" name="formato_regiao">
                    <option value="CSV">CSV</option>
                    <option value="JSON">JSON</option>
                    <option value="Planilha(.xlsx)">Planilha(.xlsx)</option>
                </select>
            </div>
            <button class="botao-enviar" type="submit"> ENVIAR </button>
        </form>
    </div>
    <script>
        function mostraFormularioMUN(){
            document.getElementById("formulario-municipio").style.display="block";
            document.getElementById("formulario-ceara").style.display="none";
            document.getElementById("formulario-regiao").style.display="none";
        }

        function mostraFormularioCE(){
            document.getElementById("formulario-municipio").style.display="none";
            document.getElementById("formulario-ceara").style.display="block";
            document.getElementById("formulario-regiao").style.display="none";
        }

        function mostraFormularioREG(){
            document.getElementById("formulario-municipio").style.display="none";
            document.getElementById("formulario-ceara").style.display="none";
            document.getElementById("formulario-regiao").style.display="block";
        }

    </script>
</body>
</html>